package jailrosters;

import ocr.ImageTextParser;
import org.openqa.selenium.Dimension;
import org.openqa.selenium.OutputType;
import org.openqa.selenium.Point;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.firefox.FirefoxDriver;

import javax.imageio.ImageIO;
import java.awt.image.BufferedImage;
import java.io.ByteArrayInputStream;
import java.io.File;
import java.io.IOException;
import java.nio.file.Files;
import java.nio.file.Paths;
import java.util.concurrent.TimeUnit;

/**
 * Created by nehaojha on 29/05/18.
 */
public class SeleniumJailDataCrawler {

    private static final String URL = "https://odysseypa.tylerhost.net/Gillespie/JailingSearch.aspx?ID=400";
    public static String OUTPUT_FILE = "/Users/nehaojha/Documents/jail_records/";
    public static final String[] DEFENDANTS = {"Kasper Tanya", "Saner Carlton", "Smith Sean", "Parkhurst Michael", "Ortiz Angel", "Bradley Donald", "Prcin James", "Brady Todd", "Creech Jade", "Wahl Brenda", "Gourley-Metcalf Quinnlin", "Romero Miguel", "Allen John", "Harris Croix", "Ramirez Oscar", "Langbein Shaun", "Cooper Ellen", "Bilotta Nicholas", "Castro Jimmy", "Berrera-Lagos Juan", "Guerrero Jose", "Neri Felipe", "Allen Mary", "Starks Brad", "Moore Sammy", "Kirby Jonathan", "Marshall David  Also", "Schneider James", "Perryman David", "Morquecho Andrew", "Blanco Yvonne", "Angerstein Lorna", "Delatorre Miguel", "Guler Joshua", "Castrejana Ryan", "Lackey Raymond", "Thompson Joseph", "Carlile Jamie", "Zuniga Monica", "Kirkpatrick Lisa", "Pickell Jane", "Rodriguez Johnny", "White Thomas", "Sivils Randell", "Lyon Thomas", "Yarborough George", "Valdez Santos", "Chapa Silvestre", "Chavez Martin", "Herbort Michael", "Welborn Andrew", "Coburn Thomas", "Banda Ampara", "Rubio Rubin", "Welborn Paul", "Rhodes Adam", "Ressmann Rhett", "Soto Robert", "Barcenas Martin", "Lanzarin Juanita", "Higgins Adam", "Priour Harlan", "Carrion Pete", "Meurer Dianna", "Langley Devan", "Vaughn Ashleigh", "Perez Luis", "Avelar Marty", "Howard Gerald", "Nixon Terry", "Vargas Zachary", "Barro Javier", "Holland Jason", "Aleman Ruben", "Stolz Matthew", "Hughes Edward", "Hawthorne Richard", "Bauhs Margaret", "Berry Laverne", "Wanke Donald", "Lippert Christina", "Smith Philip", "Palladino Zachary", "Hoerster David", "Ramirez Joaquin", "PHIPPS KRISTOPHER", "Aldaco Alma  Also", "Tarlton Lisa", "Taylor Michael", "Payne Timothy", "McDonald Melissa", "Cisneros Bernard", "Williams Edward", "Goss Tonya", "Guevara Carlos", "Nicholas William", "Hazelett Roman", "Bryant Janet", "Hernandez Juan", "Prause Henry", "Reed Keven", "Montez Rafael", "Mc Caffrey Virgil", "Martinez Rebecca", "Massey Matthew", "Hodgkins Elizabeth", "Rodriguez Mario", "Gatson Mark", "Horne Brian", "Zenner Jameye", "Weinheimer Jay", "St Clair Glenn", "Collins Stephan  Also", "Hackney Michael", "Childs Gretchen", "Salinas Nicholas", "Perry Cassidy", "Morales Gay", "Moffett Michael", "Neri Antonio", "Penn Zabra", "Lira Honore", "Dominguez Donna", "Aguilar Ruben", "Hinterlach Christopher", "Rader Joseph", "Wilson Gary", "Brandenburg Eva-Joslyn", "Galindo Thomas", "Fowler John", "Lancaster Fred", "Benitez Stephen", "Garcia Luis", "Juares Marcos", "Vasquez Jessica", "Flores Gerardo", "Herrera Filiberto", "Ridner Duston", "Barro Alvaro", "Berry Jeffrey", "Retana Javier", "Laduke David", "Perez Yasmin  Also", "Kaderli Denis", "Edwards Mary", "Lake Richard", "Herrera Luis", "Garcia Rene", "Chandler Samuel", "Curtis Radona", "McKinzie Ashley", "Botello Jose  Also", "Walston Raymond", "Case Gregory", "Shifflett Charles", "Watkins Norman", "Deras Javier", "Aragonez Alfredo", "Mansell Mark", "Tamplin Jody", "Aleman Ruben  Also", "Munoz Jacquelynn", "Anderson Tonya", "Reyes Jeremy", "New Michael", "Kneese Gerald", "Galindo Sonny", "Light Kerry", "David George", "Hannum Craig", "James Perry", "Whitehead Tyson", "Cisneros Jose", "Mercado Martin", "Eckert Jody", "Kimbel Arthur", "Hodges Paul", "Haggerton Curtis", "Valdez Victor", "Pace David", "Truitt Chad", "Trahan Robert", "Gipson Brandyn", "Flores Ramiro", "Weinheimer Duane", "Figueroa Zachary", "Sims Jay", "Venzor Richard", "Hernandez Luciano", "Menem Jeffery", "Grenwelge Roy", "Long Susan", "Arias Teobaldo", "Klaerner Ashley", "WOLF MICHAEL", "Markey Bryn", "Palmer Charles", "Glover Jamie", "Moehle Calvin", "Monroe David", "Wilson Gabe", "Perez Isaias", "Waight Robert", "Montelongo Adrian", "Kinnane Kevin", "Massey James", "AYSHEH JOWAD", "Davidson Michael", "Wolff Nicholas", "Hoelscher John", "Lewis Nina", "Dantzler Huntly", "Valenzuela Benny", "Holt Violet", "Lopez Abel", "Stewart Melissa", "Blair Robb", "Barcenas Irene", "Nelson Mohnay", "Waddell James", "Straube Joseph", "Flores Edward", "Bosquez Anthony", "Foster Jennifer", "Corbin Lonnie", "Lopez Ernest", "Watson Rachel", "Robison Tabitha", "Waters Daniel", "Elmore John", "Carrion Samson", "Piant Jared", "Butler Shirley", "Rubey Robert", "Huffman Larissa", "Schonberg Daniel", "Nolen Jerry", "Wimberly Benjamin", "Collins Stephan", "Jacoby Shelby", "Mann William", "Dean Channing", "Borjas Stephen", "Ramirez-Muniz Victor", "Castillo Edwardo", "Hill John", "Klein Sherman", "Perez Yasmin", "Uballe Racheal", "Gurrolaneri Jose", "Phillips William", "Jones Brandon", "Haug John", "Hatcher Katherine", "Brown Lisa", "Pate Daniel", "Fields Jessica", "Dyal Patrick", "Marin Rosa", "Perez Bryan", "Hawkins John", "Longway Kenneth", "Martinez Nick", "Robinson Daniel", "Puckett John", "Overstreet Lester", "Acosta Taylor", "Hammer Christopher", "Callaway Eldon", "Watson Brian", "Salas Modesto", "Albarorivera Francisco", "Grenwelge Zachery", "Milfeld Sean", "Kyle Rickie", "Gonzalez-Limon Alex", "Bergen Jana", "Smith Eugene", "Randolph Elzie", "Hodges John", "Lamar Ryan", "Thomas Brian", "Wood Briana", "Nichols Andrew", "Meadows Melissa", "Moncalian Marco", "Williams Cooper", "Lachmiller Johnathan", "Lopez Jose", "Remini Tyler", "Oliver Chase", "Wilson Rosa", "Martinez Christian", "Wayne Jason", "Castillo Jaime", "Olfers Nara", "Flores Adam", "French Tiffany", "Leal Matthew", "Valadez Vincent", "Bates Troy", "Howard Christopher", "Thomason Laura", "Gutierrez Emily", "Crawford Michael", "Heavner Brence", "Kunz Candace", "McCain Mitchell", "Nichols Zach", "Scott Karyn", "Crenwelge Coy", "Holmes Chad", "Welch James", "Barnett Bonnie", "Gonzales Pete", "Smith Thor", "Reed David", "Bierschwale Virgil", "Cook Franklin", "Butler Thad", "Irwin Richard", "Flowers Kaitlyn", "Guillen Sergio", "Meier Robert", "Hanson Arthur", "Immel Bret", "Colunga Julian", "Borjas Roberto", "Marquez David", "Teel Eric", "Espinoza Hesmeruilda", "Birck Brandon", "Altman William", "Raz Dustin", "Botone Seth", "Alberthal William", "Viola Kevin", "Hallenbeck Robert", "Schindler Michael", "Tillian Charles", "Galindo Jesus", "Steele Timothy", "Thomas Allen", "Blair Michael", "Arredondo Michael", "Jackson Kenneth", "Hall Mark", "Wright Noah", "Beyette Andrew", "Smith Critz", "Payne Ronald", "Lamey Leticia", "Moriniere David", "Diaz Jose", "Mazinke Kenneth", "Cantu Thomas", "Rodriguez Carlos", "Ruschhaupt Travis", "Moore Jeremy", "Knopp Jillian", "Del Fierro Hector", "Plowman Matthew", "Mitchell Kevin", "Thomas Wesley", "Wilson Chad", "Naredo Kimberly", "Sanchez Oscar", "Buchanan Jeffery", "Carter Amy", "Shaw Levi", "Laxson Jerry", "Stronczek Bianca", "Parrish Jerry", "Milnamow Timothy", "McAdams Donald", "Humphrey Omar", "Morse Mindy", "Graham James", "Montgomery Clint", "Hannah Donald", "Rather Kimberly", "King Lori", "Martinez Rudy  Also", "Mathews Dana  Also", "Frome Thomas", "Hart Madeline", "Delatorre Ramiro", "Hayes Terrance", "Wipff Russell", "Navarro Michelle", "Guevara John", "Pipes Kristofor", "Ball Dawson", "Klaerner Kayla", "Webb Ellwood", "Pirie Monissa", "Reeh Travis", "Jetton Christa", "Weber Devin", "Wheeler Debra", "Frischmuth Sean", "Sanchez Robert", "Williams David", "Hernandez Ana-Marie", "Lind Michael", "Suggs Emily", "Reyes Georgina", "Lumpkins Ronald", "Butler James", "Rojas David", "Kelley Latrice", "Ordas Alejandro", "Reno Hunter", "Bear Cheryl", "West Henry", "Duke Joseph", "Rader Marion", "Osborne Jeremy", "Albrecht Frederick", "Lopez Juan", "Rosas Felix  Also", "Salinas Isidro", "Mendoza Pedro", "Aspra Christopher", "McDonnell Mary", "Eilers Emily", "Martinez Rudy", "Merino Gerardo", "Collins Zachary", "Martinez Michael", "Marin Rosalinda", "Korbel Andrew", "Valadez Juan", "Camacho Edward", "Grier Jeffrey", "Ramirez Jesus", "Scott Ellen", "Garza George", "Haggerton Michael", "Miller Justine", "Danforth Alan", "Schraub Rebecca", "Perry Lee", "Harbin Leon", "Ortiz Gustavo", "Gonzalez Alex", "Reyna James", "Schupp John", "Kliesing Roy", "Walker Charla", "Perez Lucy", "Doherty Dustin", "Wiesehan Amanda", "Hernandez Arthur", "Burkett Andy", "Fortner Katrina", "Beckendorf Nicole", "Alva James  Also", "Ball John", "Delatorro Jr.", "Medlock Joe", "Sanchez Jose", "Castaneda Edward", "Moehle Patrick", "Zenner Douglas", "Cheney Stephen", "Ashley Renda", "Rivas Nacho  Also", "Wilcox Jennifer", "Carrillo Israel", "Torrez Ernest", "Cervantes Jeremy", "Neri Jesus", "Vinalay Carlos", "Jeter Justin", "Blessing Jill  Also", "Villa Edgar", "Mills Carl", "Owen Affie", "Davis Robert", "Sexton Larry", "Reyna Pablo", "Salazar Mario", "Bosquez Antonio", "Freitag Mandy", "Lewis Westley", "Yow Bradley", "Khuc David  Also", "Keller Timon", "Robles Rodrigo", "Ellebracht Edgar", "Sites Brec", "Barrientes Tomas", "Winfrey Lin", "Lozano Vicente", "Flores Mardonio", "Medlock Jennifer", "Meyers Dakotah", "Mays Christopher", "Pina-Navarro Mario", "Warren R", "Weilgus Andrew", "Connor Megan", "Hernandez Adam", "MacDonald Michael", "Reyes Pablo", "Holden Russell", "Guevara Alberto", "Reyes Delilah", "Flowers Rickey", "Mendez Mark", "Gibbens Rockne", "Swain Charles", "Williams Leighton", "Kokemor Shawn", "Reza Joe", "Moore Benjamin", "Miller T", "Borders John", "Burt Robert", "Moehle Floyd", "Corbin Lonnie  Also", "Fojtik John", "Bates George", "Cedillo Joe", "Tuneberg William", "Garry Christopher", "Arango Filandro", "Contreras Martin", "Hampton Jodie", "Rivas Felipe", "Roeder Alan", "Ciermatori Kelly", "Pitre Joseph", "Sasko Levi", "Shipley Jennifer", "Pooser Frances", "Voight Leonard", "Dishongh Sarah", "Weigand Clemens", "McElwain Luke", "Mainz Clinton", "Deras Manuel", "Krakovetsky Mykola", "Hahne Timothy", "Phillips Leslie", "Carlos Gumaro", "Anderson Stephanie  Also", "Jennings Tracy", "Robles Roberto", "Manzano Beatrice", "Behrends Johnathon", "Torres Vincent", "Alex Kevin", "Jones Justin", "Hopkins Tami", "Harwood Joseph", "Leggett Michael", "Craven Jason", "Schafer Travis", "Schneider Michael", "Alvarado Raymundo", "West Dustin", "Griffith Terrie", "Avila Ramon", "Moran Aurelio", "Cave Robert", "Rivas Aureliano", "Hernandez Abel", "Rosenbusch Mark", "Brooks Travis", "Curry David", "Rathbun Keith", "Davis Tobin", "Dennett Drew", "Hughes John", "Terrell William", "Goff Cody", "Cedillo Jeana", "Palafox Diana", "Thompson David", "Stewart Amanda  Also", "Stephens Katherine", "Horry Toni", "Zey Heidi", "Zamora David", "Phelps Brian", "Knight Joseph", "Deteso Daniel", "Davis Daniel", "Scullin Deborah", "Armstrong Alan", "Weber John", "Weatherbee Julia", "Rodriguez-Hernandez Joel", "Mayes William", "Mangum Kendall", "Thrasher Scott", "Beneroso Carlos  Also", "Brown Micah", "Nehr Wire", "Botello John", "Ortega Michael", "Fowler Jay", "Morin Sabra", "RABKE JOSEPH", "McIntyre William", "Scott Sherman", "Stehling Keith  Also", "Barcenas Maria", "Meier Pamela", "Mendez Juan", "Hamilton David", "Smith Kevin", "Limon Alejandro", "Long Richard", "Wagenhauser Errol", "Humphrey Vernie", "Merz Matthew", "Pierce Larry", "Montague Kathleen", "Thompson Tina  Also", "Lovell Robert", "Butler Damon", "Gooding Deryk", "McNeill Sterling", "Zuniga Luis", "Garza Michael", "Herber Darren", "Sharp Gary", "Nelson Rebecca", "Gaddy Coulter", "Mingle Jesse", "Dolgener Kristofer", "Good Carla", "Mirelez Jorge", "Morquecho Mario", "Maples Andy", "Jung Shannon", "Olvera Ana", "Eager Brian", "Tanner Ashlee", "Morales Rogelio", "Galindo Elsa", "Nowlin Kenneth", "Rubio Kevin", "Peyton Fred", "Williams Wyatt", "Cruz Corina", "Alvarado Raul", "Magana Becky", "Heuer Daniel", "Martinez Armando", "Applewhite Jim", "Vibbard Brad", "Gomez Samantha", "Disman Ray", "Robinson Roddy", "Wakefield Richard", "Urista Leshawn", "Marler Roy", "Reyes Natividad", "Martin Thomas", "Fowler Willam", "Adamson Cynthia", "Jung Ronald", "Lloyd Forrest", "West Lew", "Ayala Jose", "Hernandez Nicolas", "Allen Terry", "Matlock Megan", "Saldana Ricardo", "Hoppenrath Michael", "Castro Gustavo", "Cedillo Israel", "Ortega Christopher", "Martin Joanne", "Pawloski Tucker", "Portugal Ernesto", "Gintzler Courtney", "Carter Bryan", "Parris Christopher", "Adams Marcus", "Quezada Maria", "Burrer Melissa", "Alex Chet", "Ledezma Sostenes", "Bossert Derek", "Bush Chadwick", "Green David", "Whitener Jacqueline", "Anderson Cynthia", "Galindo Celia", "Lozano John", "Pfiester Hayden", "Hernandez Jessica", "Valles Sonia", "Bostick Bradley", "Deleon Benito", "Tyson Erick", "Baker Sheri", "Pearson Paul  Also", "Porter Thomas", "Leger Joseph", "Cooper Michael", "Heiligmann Erven", "Haney David", "Hock George", "Harty Christopher", "Balderas Jesus", "Scott Sidney", "Ross Fernie", "Gloria Janet", "Martin David", "Staneart Louis", "Miller Caleb", "Miller Malinda", "Sohrabian Zina", "Camacho Elizabeth  Also", "Guevara Reyes", "Wienecke Jerry", "Joseph Sharon", "Johnson Nicholas", "Cruz Ricardo", "Chapman William", "Trevino Stephanie", "Swope Daniel", "Velez Joseph", "Alexander Marlon", "Strong Misty", "Sanchez Brandon", "Giacone Kimberly  Also", "Nieto Jose", "Fewox Daniel", "Bates Troy  Also", "Hagar Robert", "Rendon Arnulfo", "Behrends Walton", "Gutierrez Noe", "Shaw Lynn", "Horton William", "Carrion Ricardo", "Marshall David", "Vogtsberger Carl", "Munoz Mark", "Castaneda Joe", "Ersch William", "Bernal Veronica", "Roberts Travis", "Cullen Cynthia", "Knutson Thomas", "Rome Noble", "Upchurch Linda", "Turner Landon", "Morales Alfredo", "Meyers Richard", "Dodson Austin", "Scott Conan", "Langley Randee", "Langehennig Kevin", "Maupin Deangelo", "Ramirez Martin", "Alcaraz Robert", "Sasko Hermann", "Tatsch Marvin", "Swisher Jennifer", "Sheffield Dax", "Rose Troy", "Lancaster Donna", "Hall Willie", "McDaniel Thomas", "Tarlton Lisa  Also", "Winger Joseph", "Smith Roselyn", "Jorgensen Sherry", "Johnson Rachel  Crooks", "Locklar Justin", "Ledbetter Robert", "Ahrlett Ahren", "Hays Kathryn", "Rainey James", "Tinoco Juan", "Tyson Erick  Also", "Burkett Trapper", "Reyes Howard", "Robles Raul", "Porter Jennifer", "Parker Logan", "Davis Michael", "Greeson Ronald", "Reza Steve  Also", "Ashby Michele", "Doyle Mark", "Franklin Joandria", "Andrews Ryan", "Fowler Dalton", "Weber George", "Lestourgeon Bryan", "Medrano Alma", "Turner Edward", "Desselle Victoria", "Lindley Justin", "Rosa Jacob", "Prewitt Nicholas", "Perry James", "Perry Michael", "Valdez Jonathan", "Dinsmore Gregory", "Thomas David", "Ontiveros Marcos", "Hall Shiloh", "Bargsley Jacqualynn", "Churchman Bobby", "Ladewig Joshua", "Herrera Joshua", "Rodriguez Juan", "Robles Edio", "Rideaux Calvin", "Patrick Codi", "Hare Hugh", "Rodriguez John", "Davis Ricky", "Rakes Travis", "Miles James", "Berreles Hector", "Peavoy Stephen", "Jackson Gavin", "Bernstein Benjamin", "Barker Clayton", "Lozano Isabell", "Doyle Lorna", "Coats Kelli", "Martinez Felix", "Long Daniel", "Freitag Deborah", "Dodd Elgin", "Galindo Manuel", "Jaedicke Cecil", "Cedillo Rumaldo", "Perkins Ray", "Bunker Jaime", "Ruiz Raul", "Crenwelge Curtis", "Carrion Josephine", "Lyon Thomas  Also", "Wedin Morgan", "Fields Denise", "Mobley Jimmy", "Rousseau Sandra", "Rodriguez Jose", "Lujan Maritza", "Garcia Jose", "Calzoncit Jesus", "Castillo Saul", "Howard Mitchell", "Gellerstedt Kai", "Tubbs Miranda", "Dixon Sherry", "Burrow Larry", "Taylor Ron  Also", "Temple Tyrone", "Lawhead Merissa", "Ybarra Andrew", "Jenschke Lamar", "Collins William", "Harris Charles", "Weed Donna", "Henderson Tony", "Hoffower Aaron", "PERKINS JEREMIAH", "Moore Anthony", "Yarbrough Amy", "White Gregory", "Saxe Troy", "Trevino Kyle", "Whitehead Jacky", "Bain Debi", "Salazar Luis", "Hindman Peggy", "Crittell Christopher", "Camacho Robert", "Eary Casey", "Blackwell Berrick", "Price Ken", "Poindexter Davie", "Grona Rebecca", "Moreno Domingo", "Vasquez Ivan", "Weber Alan  Also", "Wollney Adrian", "Ingram Hollis", "Scripps Robert", "Valdez Walter", "Stayton James", "Malek Fariborz", "Creswell Jason", "Cummings Sarah", "Pina Bruno  Also", "Koennecke Mark", "Olaguez Juan", "Papin Chalazne  Also", "SCHLAUDT KAY", "Gomez Olga", "Bessent Samee", "Rendon Tony", "Carrion Samson  Also", "Morquecho David", "Villanueva Tracy", "Carson Shane", "Smith Deborah", "Zapata Antonio", "Jewel Chelsy", "Ramirez Jose", "Chavarria Christopher", "Rust David", "Vaught Victoria", "Goff Jedd", "Wade Burnett", "Sanchez Joaquin", "Ramirez Valentine", "Hallmark Vern", "Montalvo Mario", "Lackey Stanley", "Aguilar Mario", "Turrentine Michael", "Burkett Johnny", "Alvarez Reynaldo", "Callahan Zachary", "Charnichart Rachel", "Elfstrom Margaret", "Carrion Pedro  Also", "Herrera Luis  Also", "Fritzler Mike", "Vargas Jeremy", "Hernandez Alfonso", "Muennink Amanda", "Brown Robert", "Herrera Mary", "Lopez Samuel", "PEREZ MARTIN", "Delgado Victor", "Rice Ann", "Stratton Howard", "Kimbel Yvonne", "Pletz Travis", "Hyatt Rebecca", "Perry Hal", "Keating Matthew", "Wilke Cary", "Reza Saul", "Casey Gary", "Prado Victor", "Sedlmayr Dale", "Asad Damon", "Rex Mary", "Robinson Kristopher", "Sparks Tony", "Hohmann David", "Booher Zachary", "Ingle Russell", "Rojas Nicholas", "Hughes Waylon", "Sharrock Harley", "Becker Scott", "Struhl Samuel", "Sanchez Elijah", "Delacruz Amelia", "Sanchez-Rangel Jose", "Jung Gilbert", "Valadez Joe", "Hibbard Kevin", "Hammons C", "McDonnell Michael", "Shine Robert", "Graham Travis", "Easterwood Christopher", "Norris Joshua", "Adamson Edward", "Miller Tommy", "SCOTT CLAUDE", "Cobb Troy", "Ochoa Christian", "Lyons Thomas", "Hutto Caleb", "Ramirez Mario", "Matamoros Angela", "Garza Jose", "Santellan Jose", "Casey Brandon", "Lindley David", "Hernandez-Ruiz Vincente", "Weinheimer Patrick", "Sanchez Alexandra  Also", "Pressman Eric", "Haggerton Blake", "Rowe John", "Bruce Dustin", "Anderson Danny", "Thompson Matthew", "Kerr Theodore", "Tippett Glenn", "Johansen Danny", "Palmatier James", "Castillo Traci", "Camacho Felipe", "Humphries Lacey", "Heyen Jeffery", "Stehling Clarence", "Syring Paul", "Scott Kaley", "Leifeste Jason", "Lange Orville", "Arons James", "Rodriquez Raul", "Sharpe Kendred", "Benites Stephen  Also", "Medina Jose", "Ham Shannon", "Estrada Celeste", "Castillo Adolfo", "Brock Terry", "Lopez Heather", "Gamel Jon", "Garcia Vincent", "Strom Robbie", "Short Nathaniel", "Kosler Calvert", "Harris Robert", "Meili Carmen", "LeStourgeon Michael", "Wassenich Gregory", "Andrade Veronica", "Cervantes Rogelio", "Swire Darrell", "Pennington Francis", "Perez Patricia", "Doyle Michael", "Dray Paula", "Weirich Wayne", "Mitchell David", "Saenz Juan", "Sanderford Jeffrey", "Esquivel Jose", "Langer Carmen", "Dempsey Bryan", "McCort Jennifer", "Resendiz Juan", "CONTRERAS JUAN", "Jenschke Rusty", "Young Kurt  Also", "Scott Claude", "Buley Patricia", "Thomas Christopher", "Gonzalez-Magana Felipe  Also", "Owen Sherry", "Wolfe John", "Bernstein Bethany", "Liesmann Ronald", "Deleon Daniel", "Mafnas Daniel  Also", "Hughes Misty", "Hedge Shaun", "Short Robert", "Deschenes Roxanne", "Wood Leonard", "Patel Jyoti", "Ramirez Enrique", "Gomez Jason", "Bloomer Garrett", "Daniel Bradford", "Gurrola Jose", "Lee Charles", "Brooks Edwin", "Jones Donna", "Campbell Donald", "Baethge Colton", "Marcellus Joshua", "Ross Kimberley", "Blankenship Brody", "Aviles Robert", "Horton Terri", "Raguet Travis", "Montez Robert", "Wier William", "Arteaga Raul  Also", "Schmidt Melissa", "Crooks Steven", "Reyes Jose", "Mead John", "Fuller Michael", "Magana Silvia", "Contreras Amanda", "Flick Jaime", "Gold William", "Hartcraft Ricky", "Pooser Alan", "Carter Misti", "Lotito Robert", "Frumkin Richard", "Gamble Clinton", "Olvera Jesse", "Willis Benjamin", "Elms Jason", "Goss Aaron", "Miller Thomas", "Wisdom Tiffany", "Espinoza Pete", "Sanchez Roland", "Welch Bert", "Cortez Arthur", "Contreras Craig", "Keating Kimberly", "Kirkpatrick David", "Kothe Kyle", "Hernandez Pedro", "Wilson Juanita", "Martinez Timothy", "Ottmers Michael", "Lopez Santiago", "Dietrich Louis", "Stinson Alexander", "Dean Aaron", "Lehne Rebecca", "Lopez Agustin", "Melendez Ivan", "Collett Patricia", "Kercheville John", "Castillo Juan", "Betts Roy", "Wunderlich Brian", "Tamayo Saturino", "Paine Joseph", "Linville Ed", "Vences Orlando", "Shine Kimberly", "Blowey Mariyah", "Drimmel April", "Vinall Adam", "Wolf Michael", "Turk Brian", "Strom Robert", "SLATER ERIC", "Shearer Thomas", "Hargis Paul", "Chaney Lisa", "Contreras Hippolito", "Brennan William", "Wunsch John", "Vasquez Heather", "Leija Efrain", "Tomlinson Ryan", "Ball Geoffery", "Alva James", "Betts Thomas", "Abbott Gregory", "Jung Jason", "Pehl Dalene", "Hatcher Johnny", "Myers Loretta", "Perkins Nehemiah", "Baker Eddie", "Chandler Dionne", "Sanchez Celia  Also", "Graciano Armando", "Morquecho Kimbel Yvonne", "Brown Stephanie", "Steadman Clay", "Krauskopf Evan", "Behrends Gary  Also", "Garcia Pedro  Also", "Frantzen Kurt", "Rakowitz Melvin", "Scott Chance", "Reddick Jeffery", "Cantu Tony", "Featherngill Harold", "Ellebracht Henry", "Willis Jacob", "Lener Joseph", "Ottmers Phillip", "Frantzen Erin", "Womble J'nina", "Neri Federico", "Kyle Dylan", "Wagner James", "Bryant Ashley", "Rowland Emily", "Smoot Kimberly", "Simon Cory", "Wonenberg Scott", "Kunz Kelly", "Newton Carl", "Donges Larry", "Mendoza Maria", "Usener Kevin", "Raymer Taleah", "Cedillo Marisa", "Hammer Eli  Also", "Weyand Samuel", "Kreutzer Tammy", "Stoy Edward", "Ahrlett Milton", "Gould Jeremy", "Whitewood Travis", "Kunz Robert", "Hammack Garrick", "Gonzalez Adam", "Harris James", "Duecker Arin", "Pressler David", "Landaverde Martha", "Watkins Rebecca", "Springall John", "Turnil Erick", "Klaerner Brandi", "Burnett Janeene  Also", "Webb Paul", "Denight Mark", "Karrick Reana", "Escobar Michael", "Hinojosa Ramon", "Roberts Jessica", "Cobb Jett", "Carlisle Zachary", "Cedillo Merardo", "Grimaldo Arturo", "Hernandez Jesus", "Waldon Daniel", "Steele Robert", "Whitworth Berret", "Hernandezcruz Hipolito", "Ramirez Luis", "Knapp Ivan", "Mitchell Jessica", "Desharnais Marc", "Benites Stephen", "Hartman Danielle", "Schmidt Emily", "Scantlin Samuel", "Lozano Michael", "Tuthill Mark", "Cortez Arthur  Also", "Ferguson Donna", "Harris Linda", "Cerda Fructuoso", "Smithey Richard", "Arndt Karla", "Duncan Sheila", "Jeane Georgia", "Jenschke Michael", "Valdez Jose", "Pruitt Ronnie", "Ledezma Juan", "Nieto Francisco", "Durst John", "Bogart Brian", "Lopez Jaime", "Martinez Troy", "Crawford Allen", "McElwain Katie", "Whittenburg Jack", "Jaquez Orlando", "Robbins Joseph", "McCarty James", "Embury Adam", "Reynolds Kenneth", "Mesch James", "Vasquez Marcos", "Santos Christopher", "Torres Jose", "Jenschke Holly", "Meier Pamla", "Martinez Robert", "Delagarza Alfredo", "Dossey Ronnie", "Vongsaya Panya", "Rosas Ernestina", "Giles Thomas", "Rojas Pedro", "Jones Burnis", "Smith Lucas", "Gage Sara", "Gurrola Abril", "Ragland Robert", "Owens Lynne", "Bard Bryan", "Howell Kevin", "Lambert Richard", "Rodriguez Dagoberto", "Sauer Reagan", "Behrends Gary", "Reza Jose", "CONTRERAS ALFREDO", "Badger Christina  Also", "Guajardo Luke", "Heuer Daniel  Also", "Rodriguez Roberto", "Musgrove Lori", "Silva Elijah", "Fowler-Bermudez Michelle", "Castellano Jose", "Richter Misty", "Butler Jeremy", "Ellebracht Jason", "Sagredo Jose", "Ottmers Richard", "Sones Brian", "Wilson Chad  Also", "Schriefer Michael", "Dabney Jack", "Beasley Christine", "Lackey Darlene", "Williams Eric", "Carpenter Aubrey", "Swope Donald", "Fisk Noble", "Patterson Tina", "Taylor Kevin", "Donihoo Christopher", "Rice Shannon", "Skubal Troy", "Parker Regan", "Batterton Seth", "Jung Justin", "Garcia Rodolfo", "Hernandez Elizer", "Rhoades Jason", "Walsdorf Kash", "Turner Kathy", "Lopez Richard", "Thomas Gay", "Cuellar Donna", "Wahl Judith", "Moellering Jessica", "Workman Rachael", "Garcia Ernest", "Bourdeaux Daniel", "Hall Janine", "Eckhardt David", "Valdez Mark", "Youngblood Jackie", "Ashton Randy", "Ewan Holly", "Bray John", "Ortiz Jesse", "Kaltreider Robert", "Travers Adriana", "Wuest Richard", "Smith Marvin", "Teague Michael", "Escamilla Troy", "Holt Curtis", "Mills Scott", "Wilson Charles", "Ruiz Ray", "Campbell Eric", "Ortiz Martin", "Rodriguez Daniel", "Perkins Gregory", "Rubio Lloyd", "Peterson Patricia", "Sweeney Dalton", "Baker Elliott", "Hobson-Cannedy Elizabeth", "Morin Luke", "Puckett Jeffrey", "Sidlo Thomas", "Garza Yvonne", "Robertson Judy", "Eichholz Benjamin", "Holmes Joshua", "Byrd James", "Byon Reuben", "Haggerton Marty", "Perez Maria", "Cuellar David", "Welch Lorenzo", "Guerrero Tracey", "Benitez Anna", "Pendleton Lisa", "Carreon Nicole", "Sanchez Terry", "Guynes Harold", "Krause Scott", "McElwain Allie", "Alexander Dennis", "Zertuche Aracelie", "Apple Gene", "Parrigon Shawn", "Wrinkle Bradlee", "Joyave Vicky", "Mazurek Clara", "Cardella Andrew", "Gloria Christopher", "Garrett Broughton", "Jewell Robert", "Vasquez Andres", "Goodwin Nancy", "Lott Maxine", "Haug Yvonne", "Gould Thomas", "Tabares Raymond", "Jung Henry", "Hernandez Francisco  Also", "Benitez Celso", "Head Kenneth", "Copeland John", "Theis Timothy", "Rausch Tommy", "Frederick Clayton", "Ortega Joe", "Sauter Gary", "Overstreet Gary", "CASTILLO BERTHA", "Slick Gregory", "Prado Arturo", "Myers Spencer  Also", "Parker Shena", "Willis Leila", "Holmes Charles", "Crabtree Scott", "Degner August", "Johns Joseph", "Simpson Donald", "Carlos Michael", "Southall Angela", "Williams Lynn", "Safley Melanie", "Fuller Hugh", "Taylor David", "Seward Jennifer", "Yonko Miller", "Hunn Robert", "Powell Lisa", "Martinez Vicente", "Shepard Erin", "Hounsell Michael", "Dean Jamie", "Nielsen Melissa", "Burnett Seth", "McBride Jeffery", "James Mary", "Lewis George", "Upshaw Kelly", "Black Christopher", "Behrends Robbie", "Tatum Allan", "Brandon Cory", "Moore Shelby", "Survant Billy", "Reza Kevin", "Reed Duane", "Kneese Jessica", "Spencer Brenda", "Quinn Thomas", "McCarley Devon", "Bowers William"};

    static {
        File file = new File(OUTPUT_FILE);
        if (!file.exists()) {
            file.mkdirs();
        }
        System.setProperty("webdriver.gecko.driver", "/usr/local/bin/geckodriver");
    }

    public static void main(String[] args) throws IOException {
        for (int i = 765; i < 800; i++) {
            System.out.println("defendant name = " + DEFENDANTS[i] + "defendant number" + i + " of " + DEFENDANTS.length);
            String[] split = DEFENDANTS[i].split(" ");
            String lastName = split[0];
            String firstName = split[1].trim();
            scrapeJailRecordFor(lastName, firstName);
        }
    }

    private static void scrapeJailRecordFor(String lastName, String firstName) throws IOException {
        int retryCount = 0;

        while (retryCount++ <= 3) {
            FirefoxDriver driver = new FirefoxDriver();
            try {
                driver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);
                driver.navigate().to(URL);

                driver.findElementByCssSelector("body > table > tbody > tr:nth-child(2) > td > table > tbody > tr:nth-child(1) > td:nth-child(2) > a:nth-child(25)").click();

                byte[] arrScreen = driver.getScreenshotAs(OutputType.BYTES);
                BufferedImage imageScreen = ImageIO.read(new ByteArrayInputStream(arrScreen));
                WebElement cap = driver.findElementById("jailingsearch_samplecaptcha_CaptchaImage");
                Dimension capDimension = cap.getSize();
                Point capLocation = cap.getLocation();
                BufferedImage imgCap = imageScreen.getSubimage(capLocation.x + 180, capLocation.y + 110, capDimension.width + 280, capDimension.height + 100);
                ImageIO.write(imgCap, "png", new File("/tmp/captcha.png"));

                String imageText = ImageTextParser.parseImage();
                imageText = imageText.trim().replaceAll("\n", "");
                System.out.println("imageText = " + imageText);

                //fillout form and submit
                driver.findElementById("CodeTextBox").sendKeys(imageText);
                driver.findElementById("LastName").sendKeys(lastName);
                driver.findElementById("FirstName").sendKeys(firstName);
                driver.findElementById("SearchSubmit").click();

                if (driver.getPageSource().contains("Jail Records Search Results")) {
                    Files.write(Paths.get(OUTPUT_FILE + lastName + "_" + firstName + ".html"), driver.getPageSource().getBytes());
                    break;
                }
            } catch (Exception ex) {
                ex.printStackTrace();
            } finally {
                driver.close();
            }
        }

    }

    private static String saveHtml(File file) {
        return null;
    }
}
